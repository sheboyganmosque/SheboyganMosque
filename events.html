---
layout: default
title: Events Calendar
---

<div class="page-header py-4 bg-light">
  <div class="container">
    <h1 class="page-title h3 mb-2">{{ page.title }}</h1>
    <p class="text-muted">Stay informed about upcoming events and regular prayers at Islamic Society of Sheboygan.</p>
  </div>
</div>

<div class="events-content py-4">
  <div class="container">
    <!-- Announcements -->
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">
        <h2 class="h5 mb-0">Announcements</h2>
      </div>
      <div class="card-body p-0">
        {% if site.data.announcements and site.data.announcements.active %}
          {% assign announcements = site.data.announcements.active | sort: "priority" | reverse %}
          {% if announcements.size > 0 %}
            <ul class="list-group list-group-flush">
              {% for announcement in announcements %}
                {% assign now = site.time | date: '%s' %}
                {% assign start = announcement.start_date | date: '%s' | default: 0 %}
                {% assign end = announcement.end_date | date: '%s' | default: 9999999999 %}
                {% if now >= start and now <= end %}
                  <li class="list-group-item">
                    <div class="d-flex justify-content-between align-items-center">
                      <div>
                        <h5 class="mb-1">{{ announcement.title }}</h5>
                        <div class="text-muted mb-2">{{ announcement.content | markdownify }}</div>
                        {% if announcement.link_url and announcement.link_text %}
                          <a href="{{ announcement.link_url }}" class="btn btn-sm btn-outline-primary">{{ announcement.link_text }}</a>
                        {% endif %}
                      </div>
                      {% if announcement.priority == "High" %}
                        <span class="badge bg-danger">High Priority</span>
                      {% endif %}
                    </div>
                  </li>
                {% endif %}
              {% endfor %}
            </ul>
          {% else %}
            <div class="p-3 text-center text-muted">
              No current announcements.
            </div>
          {% endif %}
        {% else %}
          <div class="p-3 text-center text-muted">
            No current announcements.
          </div>
        {% endif %}
      </div>
    </div>

    <!-- Regular Events -->
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">
        <h2 class="h5 mb-0">Regular Events</h2>
      </div>
      <div class="card-body p-0">
        <ul class="list-group list-group-flush">
          {% for event in site.data.regular_events.events %}
            <li class="list-group-item">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <h5 class="mb-1">{{ event.title }}</h5>
                  <p class="mb-0 text-muted">{{ event.description }}</p>
                  <p class="mb-0 text-muted">Every {{ event.day }} at {{ event.time }}</p>
                  {% if event.notes %}
                    <p class="mb-0 text-muted"><small>{{ event.notes }}</small></p>
                  {% endif %}
                </div>
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <!-- Upcoming Events -->
    <h2 class="h4 mb-3">Upcoming Events</h2>
    <div class="upcoming-events">
      {% assign upcoming_events = site.data.events.events | where_exp: "event", "event.date >= site.time" | sort: "date" %}
      
      {% for event in upcoming_events %}
      <div class="card mb-3">
        <div class="card-body">
          <h3 class="h5 mb-2">{{ event.title }}</h3>
          <p class="text-muted mb-2">
            <i class="far fa-calendar-alt me-1"></i> {{ event.date | date: "%B %d, %Y" }}<br>
            <i class="far fa-clock me-1"></i> {{ event.date | date: "%I:%M %p" }}
            {% if event.end_date %}
            - {{ event.end_date | date: "%I:%M %p" }}
            {% endif %}
          </p>
          {% if event.location %}
          <p class="text-muted mb-2">
            <i class="fas fa-map-marker-alt me-1"></i> {{ event.location }}
          </p>
          {% endif %}
          {% if event.body %}
          <p class="text-muted mb-0">{{ event.body | markdownify }}</p>
          {% endif %}
        </div>
      </div>
      {% endfor %}
      
      {% if upcoming_events.size == 0 %}
      <div class="alert alert-info">
        <p class="mb-0">No upcoming events scheduled at this time. Please check back soon for new events.</p>
      </div>
      {% endif %}
    </div>
  </div>
</div>
